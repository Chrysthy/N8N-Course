? Explorando as principais funÃ§Ãµes

ğŸ”¹ ManipulaÃ§Ã£o de Strings

FunÃ§Ãµes para tratar textos dentro do n8n (Expressions):

- toLowerCase() â†’ converte para minÃºsculas.
- toUpperCase() â†’ converte para maiÃºsculas.
- trim() â†’ remove espaÃ§os extras no inÃ­cio e no fim.
- split() â†’ quebra a string em array.
- join() â†’ junta elementos de um array em string.
- replace() / replaceAll() â†’ substitui caracteres ou padrÃµes.
- includes() â†’ verifica se contÃ©m um valor.
- substring() / slice() â†’ extrai parte da string.
- padStart() / padEnd() â†’ preenche strings com caracteres extras.

ğŸ”¹ ManipulaÃ§Ã£o de Arrays

FunÃ§Ãµes para tratar listas de dados:

- map() â†’ transforma cada item em outro valor.
- filter() â†’ filtra elementos com base em uma condiÃ§Ã£o.
- reduce() â†’ acumula valores em um Ãºnico resultado.
- forEach() â†’ itera sobre todos os elementos.
- find() â†’ retorna o primeiro item que bate com a condiÃ§Ã£o.
- some() / every() â†’ verifica condiÃ§Ãµes (algum / todos).
- concat() â†’ junta arrays.
- flat() / flatMap()â†’ "achata" arrays aninhados (transforma uma lista de listas em uma lista Ãºnica).
-sort()â†’ ordena os elementos do array (alfabeticamente ou numericamente).
- reverse()â†’ inverte a ordem dos elementos (o Ãºltimo vira o primeiro).

! Dica extra: No n8n, vocÃª usarÃ¡ muito o split() (para separar nomes) e o replace() (para limpar telefones e CPFs), alÃ©m do filter() para limpar listas de dados vindas de APIs.


ğŸ”¹ ManipulaÃ§Ã£o de Objetos

FunÃ§Ãµes para lidar com estruturas de dados (JSON) dentro do n8n:

- Object.keys() â†’ retorna as chaves (nomes dos campos) do objeto.
- Object.values() â†’ retorna apenas os valores contidos no objeto.
- Object.entries() â†’ retorna pares chave/valor.
- delete obj.key â†’ remove uma propriedade especÃ­fica de um objeto.
- Spread ({ ...obj }) â†’ clona ou mescla objetos (muito Ãºtil para juntar dados de dois nÃ³s).

ğŸ”¹ Datas (com Date)

ManipulaÃ§Ã£o de tempo usando o JavaScript nativo (Standard JS):

- new Date() â†’ cria a data e hora atual.
- toISOString() â†’ converte a data para o formato padrÃ£o ISO (yyyy-MM-ddTHH:mm:ssZ), que Ã© o formato preferido por bancos de dados e APIs.
- getFullYear(), getMonth(), getDate() â†’ extrai partes especÃ­ficas da data (Ano, MÃªs, Dia).
- getHours(), getMinutes(), getSeconds() â†’ extrai partes especÃ­ficas do horÃ¡rio.
- date.getTime() â†’ retorna o "Timestamp" (o tempo em milissegundos), Ãºtil para operaÃ§Ãµes matemÃ¡ticas.
- DiferenÃ§a entre datas: FÃ³rmula para calcular dias entre duas datas: (d2 - d1) / (1000 * 60 * 60 * 24).

! Dica extra: No n8n, para formatar datas de forma amigÃ¡vel, use a funÃ§Ã£o toDateTime().format('dd/MM/yyyy') ou toDateTime().format('dd/MM/yyyy HH:mm:ss') para incluir horas.

! Dica de Ouro para n8n: Embora essas funÃ§Ãµes nativas de Date funcionem perfeitamente, o n8n tambÃ©m possui uma biblioteca chamada Luxon integrada ($now, $today) que facilita muito trabalhar com Timezones (fusos horÃ¡rios), algo que o Date nativo do JS Ã s vezes complica.